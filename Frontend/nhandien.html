<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Há»‡ thá»‘ng Ä‘iá»ƒm danh AI</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="sidebar">
      <h4>ğŸ“š Menu</h4>
      <a href="#" id="nav-upload" class="active">ğŸ“¤ Upload áº£nh</a>
      <a href="#" id="nav-schedule">ğŸ“… Thá»i khÃ³a biá»ƒu</a>
    </div>

    <div class="main">
      <!-- Success Notification (giá»¯ láº¡i Ä‘á»ƒ so sÃ¡nh, cÃ³ thá»ƒ xÃ³a náº¿u khÃ´ng cáº§n) -->
      <div id="successNotification" class="success-notification hidden">
        <svg class="checkmark" viewBox="0 0 52 52">
          <circle class="checkmark-circle" cx="26" cy="26" r="25" />
          <path class="checkmark-check" d="M14.1 27.2l7.1 7.2 16.7-16.8" />
        </svg>
        <span id="successMessage"></span>
      </div>

      <!-- Upload -->
      <div id="page-upload" class="fade-in">
        <h3>ğŸ“¤ Upload áº£nh sinh viÃªn</h3>
        <form id="uploadForm" class="mt-4">
          <div class="mb-4">
            <label class="form-label fw-medium">MÃ£ sinh viÃªn:</label>
            <input type="text" id="studentCode" class="form-control" required />
          </div>
          <div class="mb-4">
            <label class="form-label fw-medium">áº¢nh khuÃ´n máº·t:</label>
            <input
              type="file"
              id="studentImage"
              class="form-control"
              accept="image/*"
              multiple
              required
            />
          </div>
          <button type="submit" class="btn btn-primary">Gá»­i áº£nh</button>
          <p id="uploadResult" class="mt-3 text-success"></p>
        </form>
      </div>

      <!-- Schedule -->
      <div id="page-schedule" class="hidden fade-in">
        <h3>ğŸ“… Thá»i khÃ³a biá»ƒu</h3>
        <table class="schedule-table mt-4">
          <thead>
            <tr>
              <th>Khung giá»</th>
              <th>Thá»© 2</th>
              <th>Thá»© 3</th>
              <th>Thá»© 4</th>
              <th>Thá»© 5</th>
              <th>Thá»© 6</th>
              <th>Thá»© 7</th>
              <th>Chá»§ nháº­t</th>
            </tr>
          </thead>
          <tbody id="scheduleTable"></tbody>
        </table>
      </div>

      <!-- Attendance -->
      <div id="page-attendance" class="hidden fade-in">
        <h4>
          ğŸ“· Äiá»ƒm danh mÃ´n:
          <span id="subjectName" class="text-primary"></span> - Lá»›p:
          <span id="className" class="text-primary"></span>
        </h4>
        <button id="startFaceRecognition" class="btn btn-info mb-4">
          ğŸ¤³ Äiá»ƒm danh báº±ng khuÃ´n máº·t
        </button>

        <div id="videoContainer" class="video-container my-4 hidden">
          <img id="streamFrame" class="stream-frame" />
        </div>

        <button id="saveAttendance" type="button" class="btn btn-success mb-4">
          ğŸ’¾ LÆ°u Ä‘iá»ƒm danh
        </button>

        <table class="table table-striped table-bordered bg-white">
          <thead>
            <tr>
              <th>MÃ£ SV</th>
              <th>Há» tÃªn</th>
              <th>Tráº¡ng thÃ¡i</th>
            </tr>
          </thead>
          <tbody id="studentList"></tbody>
        </table>
      </div>

      <!-- Canvas áº©n Ä‘á»ƒ xá»­ lÃ½ áº£nh -->
      <canvas id="hiddenCanvas"></canvas>
    </div>

    <!-- Modal ThÃ´ng BÃ¡o -->
    <div
      class="modal fade"
      id="statusModal"
      tabindex="-1"
      aria-labelledby="statusModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-body text-center py-4">
            <div id="statusIcon" class="status-icon mb-3">
              <!-- Icon sáº½ Ä‘Æ°á»£c thÃªm Ä‘á»™ng qua JS (dáº¥u tÃ­ch hoáº·c dáº¥u X) -->
            </div>
            <p id="statusMessage" class="fs-5"></p>
            <button
              type="button"
              class="btn btn-primary mt-3"
              data-bs-dismiss="modal"
            >
              Tá»‘i Ä‘a hiá»‡u
            </button>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
